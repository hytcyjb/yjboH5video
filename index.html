<!DOCTYPE html>
<html>
<!--
   2017年3月23日19:49:59；浏览器兼容视频播放的功能在这里使用：
   1.//js设置透明度方法https://zhidao.baidu.com/question/263581623.html
   2./*html5 video 标签 怎样禁止拖动或者点击进度条 https://zhidao.baidu.com/question/1959286878571632540.html*/
   3./*div设置背景半透明 https://zhidao.baidu.com/question/1817594324651573788.html*/
   4./*获取缓存的时间范围 http://www.runoob.com/tags/av-prop-buffered.html  */
-->
<!-- 土豆的flash视频播放  http://www.tudou.com/listplay/M5mzPZx_Rqg/8hhyKS7ekHY/?spm=a2h1r.8267915.m1269.5~5!2~5!2~5~5~A-->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>我第一次使用HBuilder软件</title>
</head>
<body>
<!--<body onload='videoReginsClick("首页哦")'> 这样就直接在body添加了js事件-->
<script src="test.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" src="jquery-2.1.0.js">

</script>
<div id="first" style=" align-content: center; background: #00fff0;
	width: 100%; height: 500px;  align-items: center; text-align: center; );">
    <img id="firstImg" onclick="imgClick(src)" src="img/blogger_panda_128px_534223_easyicon.net.png"/>
    <div id="video_box" style="width: 80%;height: 182px;position: relative;background: red">
        <video controls="controls" preload style="width: 50%;height: 142px;position: relative;background: blue"
               id="video0"
               src="http://video.89mc.com/bjd/knowledge/video/491b31a8-8198-4662-be92-35f46da17392.mp4"
               onwaiting="waitingClick()" class="video" ontimeupdate="timeupdateClick()">
        </video>

        <div>你好呀你呀你好呀你呀你好呀你呀你好呀你呀你好呀你呀你好呀你呀221</div>
    </div>

    <span style="color: rgb(255, 0, 0);">   </span>
    <div class="video">
        <video id="media" controls="controls" width="100%" height="242px">
            <source src="http://video.89mc.com/bjd/knowledge/video/491b31a8-8198-4662-be92-35f46da17392.mp4 "
                    type="video/mp4 "/>
            您的浏览器版本太低,请及时更新
        </video>
        <!--<a href="http://www.baidu.com " target="_blank " class="skip " onclick="toggleVideo() "></a>-->
        <!-- 切换清晰度 -->
        <a class="toggle-btn ">切换至240p</a>
    </div>

</div>
<!--		<p style="margin-top: 200px;>视频一当前播放位置： <span id="demo"></span></p>-->
<div id="demo" style="margin-top: 200px; background: #99ff99;">播放的时间0</div>
<div id="second" onclick="secondClick('1234')" style="margin-top: 20px; background: #99ff99;">替换上面的div</div>
<div id="third1" onclick="videoClick('1234') " style="margin-top: 20px; background: #29B4ED;">获取视频信息</div>
<div id="third2" onclick="videoSeekClick('180')">跳到180S处</div>
<div id="third3" onclick="toggleVideo()">切高清、标清视频</div>
<div id="third4" onclick="reloadhtml()">给video添加播放、暂停、缓冲事件</div>

<script type="text/css">
    </script>
<script type="text/javascript">
    var video1 = document.getElementsByTagName("video")[0];
    var y_mask = "<div  class='masks' style='background: #000000; width:100%;height:100%; position:absolute;z-index:1000000;top:0;left:0;" +
        "filter:alpha(opacity=50);  /*支持 IE 浏览器*/ -moz-opacity:0.5; /*支持 FireFox 浏览器*/opacity:0.3;  /*支持 Chrome, Opera, Safari 等浏览器*/'>你好吗？</div>";
    var videoJ0 = $("video").eq(0);
    var videoJ0Par = videoJ0.parent();
    videoJ0Par.append(y_mask);
    console.log("=-=" + video1.height + "=====" + video1.width + "=====");
    //!* 添加视频控件上的点击事件 *!/
    $("body").on("click", ".masks", function () {
        var videoJ0 = $(".masks").eq(0);
        var videoparent = videoJ0.parent();
        var message = document.getElementsByTagName('video')[0];
        var replaceFirst_var = document.getElementsByTagName('replaceFirst')[0];
        if (replaceFirst_var != null) {
            return;
        } else {
            var masks11 = $(".masks").eq(0);
            masks11.css({opacity: 0.7});
        }
        var para = document.createElement("div");
        para.setAttribute("id","yjbo_p_div")
        var videoRep = document.createElement("video");
        videoRep.setAttribute("id", "newVideo");
        videoRep.src = "http://video.89mc.com/89mc/knowledge/video/93c2d547-e0a8-4559-89c5-bb4565e8bf8d.mp4";
        videoRep.width = videoparent[0].clientWidth;
        videoRep.height = videoparent[0].clientHeight;
        alert("===" + videoRep.width);
        videoRep.controls = "controls";
        para.clientWidth = videoparent[0].clientWidth;
        para.clientHeight = videoparent[0].clientHeight;
        var video1Parent = $("video").eq(0).parent();
        para.appendChild(videoRep);


            //text-overflow="white-space: nowrap";


//        var tbdiv = "<div id='header' style='background: black;position: absolute;top: 0px;'>"+
//        "<div id='back_id' style='color: red;float: left;padding: 5px;'>《返回</div>"+
//            "<div id='title_id' style='color: red;float: left;padding: 5px 0px 5px 10px;"+
//            "display: inline-block;width: 200px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;'>"+"标题：1234567890abcdefghijklmnopqrstuvwxy"+
//        "</div>"+
//        "</div>"+

//        "<div id='footer' style=' height: 50px;background: black;position: absolute;bottom: 0px;'>"+
//        "<div id='progress_line'  height: 5px;  background: gray; margin: 7px 10px; position: absolute>"+
//        "<img src='../img/round_16px.png' id='progress_img' style='height: 15px;width: 15px;left: 0px;position: absolute;margin: -5px -5px;'>"+
//        "</div>"+
//        "<div style=' width: 100%;margin:  15px 0px;'>"+
//        "<div id='play_id' style='color: red;float: left;padding: 5px;'>播放</div>"+
//        "<div id='current_time_id' style='color: red;float: left;padding: 5px;'>00:00:00</div>"+
//        "<div style='color: red;float: left;padding: 5px;'>/</div>"+
//        "<div id='total_time_id' style='color: red;float: left;padding: 5px;'>00:00:00</div>"+
//        "<div id='full_id' style='color: red;float: right;padding: 5px;'>全屏</div>"+
//        "</div>"+
//        "</div>"+
//        "<img src='../img/Play_Disabled_64px_560451_easyicon.net.png' id='img_play' style='position: absolute;"+
//        "left: 0;right: 0;top: 0;bottom: 0;margin: auto;'>"+
//        "<div id='id_tip_show' ; hidden=true;></div>';";
        var topDiv = document.createElement("div");
        topDiv.setAttribute("id", "header");
        topDiv.style.top = 0;
        topDiv.style.width = "100%";
        topDiv.style.height = "25px";
        topDiv.style.background = "blue";
        topDiv.style.position = "absolute";
        var back_id = document.createElement("div");
        back_id.setAttribute("id", "back_id");
        back_id.style.float = "left";
        back_id.style.padding = "0 5px";
        back_id.style.color = "red";
        back_id.style.height = "100%";
        back_id.style.background = "green";
        back_id.style.textAlign = "center";
        back_id.textAlign = "center";
        back_id.textContent = "返回2";
        var title_id = document.createElement("div");
        title_id.setAttribute("id", "title_id");
        title_id.style.float = "left";
        title_id.style.color = "red";
        title_id.style.background = "white";
        title_id.textContent = "222221110";
        title_id.style.display = "inline-block";
        title_id.style.width="150px";
        title_id.style.height = "100%";
        title_id.style.textOverflow = "ellipsis";
        title_id.style.textAlign = "center";
        title_id.style.lineHeight = "100%";
        title_id.style.overflow = "hidden";

        topDiv.appendChild(back_id);
        topDiv.appendChild(title_id);

        var footDiv = document.createElement("div");
        footDiv.setAttribute("id", "footer");
        footDiv.style.height = "50px";
        footDiv.style.width = "100%";
        footDiv.style.bottom = 0;
        footDiv.style.background = "black";
        footDiv.style.position = "absolute";

        var progress_line = document.createElement("div");
        progress_line.setAttribute("id", "progress_line");
        progress_line.style.height = "5px";
        progress_line.style.background = "gray";
        progress_line.style.margin = "7px 10px";
        progress_line.style.position = "absolute";

        var progress_img = document.createElement("div");
        progress_img.setAttribute("id", "progress_img");
        progress_img.style.src = "../img/round_16px.png";
        progress_img.style.height = "15px";
        progress_img.style.width = "15px";
        progress_img.style.left = "0px";
        progress_img.style.position = "absolute";
        progress_img.style.margin = "-5px -5px;";

        var play_id = document.createElement("div");
        play_id.setAttribute("id", "play_id");
        play_id.style.color = "red";
        play_id.style.float = "left";
        play_id.style.padding = "5px";
        play_id.textContent = "播放";

        var current_time_id = document.createElement("div");
        current_time_id.setAttribute("id", "current_time_id");
        current_time_id.style.color = "red";
        current_time_id.style.float = "left";
        current_time_id.style.padding = "5px";
        current_time_id.textContent = "00:00:00";

        var time_fgx_div = document.createElement("div");
        time_fgx_div.style.color = "red";
        time_fgx_div.style.float = "left";
        time_fgx_div.style.padding = "5px";
        time_fgx_div.textContent = "/";
        var total_time_id = document.createElement("div");
        total_time_id.setAttribute("id", "total_time_id");
        total_time_id.style.color = "red";
        total_time_id.style.float = "left";
        total_time_id.style.padding = "5px";
        total_time_id.textContent = "00:00:00";
        var full_id = document.createElement("div");
        full_id.setAttribute("id", "full_id");
        full_id.style.color = "red";
        full_id.style.float = "right";
        full_id.style.padding = "5px";
        full_id.textContent = "全屏";

        footDiv.appendChild(progress_line);
        footDiv.appendChild(progress_img);
        footDiv.appendChild(play_id);
        footDiv.appendChild(current_time_id);
        footDiv.appendChild(time_fgx_div);
        footDiv.appendChild(total_time_id);
        footDiv.appendChild(full_id);

//        var img_play = document.createElement("img");
//        img_play.setAttribute("id", "img_play");
//        img_play.style.src = "../img/Play_Disabled_64px_560451_easyicon.net.png";
//        img_play.style.position = "absolute";
//        img_play.style.left = "0";
//        img_play.style.right = "0";
//        img_play.style.top = "0";
//        img_play.style.bottom = "0";
//        img_play.style.margin = "auto";
//        var id_tip_show = document.createElement("div");
//        id_tip_show.setAttribute("id", "id_tip_show");
//        id_tip_show.hidden = "true";

        para.appendChild(topDiv);
        para.appendChild(footDiv);
//        para.appendChild(img_play);
//        para.appendChild(id_tip_show);
        alert("==="+para.outerHTML)
        message.parentNode.replaceChild(para, message);
        var newVideo = document.getElementById("newVideo");
        if (newVideo != null) {
            newVideo.play();
            masks11.css({opacity: 0.0});
        } else {
            alert("标签没有呢不了")
        }
    })
    //注意点：
    //1.需要判断控件是否存在；
    //    2.判断控件的高和宽，并进行赋值；
    //2017年3月23日20:58:11 不放在手机上的2017年3月23日20:58:17
    //        var message = document.getElementsByTagName('video')[0];
    //        if (message == null){
    //            var newVideo = document.getElementById("newVideo");
    //            newVideo.pause();
    //            return;
    //        }
    //    var videoJ0 = $(".masks").eq(0);
    //    var videoJ0Par = videoJ0.parent();
    //        videoJ0Par.append(para);
    //            videoJ0Par.css({opacity:0.0});
    //            videoJ0Par.css({background:'#0000000'});
</script>
</body>

</html>